<?xml version='1.0' encoding='UTF-8' standalone='no'?><svg contentScriptType='application/ecmascript' contentStyleType='text/css' height='803px' preserveAspectRatio='none' style='width:1094px;height:803px;background:#FFFFFF;' version='1.1' viewBox='0 0 1094 803' width='1094px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' zoomAndPan='magnify'><defs><filter height='300%' id='f1dp5lb3s49e3f' width='300%' x='-1' y='-1'><feGaussianBlur result='blurOut' stdDeviation='2.0'/><feColorMatrix in='blurOut' result='blurOut2' type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0'/><feOffset dx='4.0' dy='4.0' in='blurOut2' result='blurOut3'/><feBlend in='SourceGraphic' in2='blurOut3' mode='normal'/></filter></defs><g><rect fill='#FFFFFF' filter='url(#f1dp5lb3s49e3f)' height='171.7969' style='stroke:#000000;stroke-width:2.0;' width='844.5' x='235.5' y='100.5938'/><rect fill='#FFFFFF' filter='url(#f1dp5lb3s49e3f)' height='174.7969' style='stroke:#000000;stroke-width:2.0;' width='633' x='235.5' y='286.3906'/><rect fill='#FFFFFF' filter='url(#f1dp5lb3s49e3f)' height='226.9297' style='stroke:#000000;stroke-width:2.0;' width='748.5' x='9' y='475.1875'/><line style='stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;' x1='106' x2='106' y1='83.5938' y2='719.1172'/><line style='stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;' x1='341.5' x2='341.5' y1='83.5938' y2='719.1172'/><line style='stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;' x1='752.5' x2='752.5' y1='83.5938' y2='719.1172'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='159' x='24' y='63.9951'>cancelled-flights-exchg</text><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='159' x='24' y='80.292'>Anypoint MQ exchange</text><path d='M88.5,15 C88.5,5 106.5,5 106.5,5 C106.5,5 124.5,5 124.5,15 L124.5,41 C124.5,51 106.5,51 106.5,51 C106.5,51 88.5,51 88.5,41 L88.5,15 ' fill='#FEFECE' filter='url(#f1dp5lb3s49e3f)' style='stroke:#000000;stroke-width:1.5;'/><path d='M88.5,15 C88.5,25 106.5,25 106.5,25 C106.5,25 124.5,25 124.5,15 ' fill='none' style='stroke:#000000;stroke-width:1.5;'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='159' x='24' y='731.1123'>cancelled-flights-exchg</text><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='159' x='24' y='747.4092'>Anypoint MQ exchange</text><path d='M88.5,760.7109 C88.5,750.7109 106.5,750.7109 106.5,750.7109 C106.5,750.7109 124.5,750.7109 124.5,760.7109 L124.5,786.7109 C124.5,796.7109 106.5,796.7109 106.5,796.7109 C106.5,796.7109 88.5,796.7109 88.5,786.7109 L88.5,760.7109 ' fill='#FEFECE' filter='url(#f1dp5lb3s49e3f)' style='stroke:#000000;stroke-width:1.5;'/><path d='M88.5,760.7109 C88.5,770.7109 106.5,770.7109 106.5,770.7109 C106.5,770.7109 124.5,770.7109 124.5,760.7109 ' fill='none' style='stroke:#000000;stroke-width:1.5;'/><rect fill='#FEFECE' filter='url(#f1dp5lb3s49e3f)' height='30.2969' style='stroke:#A80036;stroke-width:1.5;' width='188' x='245.5' y='48.2969'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='174' x='252.5' y='68.292'>Flights Management SAPI</text><rect fill='#FEFECE' filter='url(#f1dp5lb3s49e3f)' height='30.2969' style='stroke:#A80036;stroke-width:1.5;' width='188' x='245.5' y='718.1172'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='174' x='252.5' y='738.1123'>Flights Management SAPI</text><rect fill='#FEFECE' filter='url(#f1dp5lb3s49e3f)' height='30.2969' style='stroke:#A80036;stroke-width:1.5;' width='208' x='646.5' y='48.2969'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='194' x='653.5' y='68.292'>Flights Management system</text><rect fill='#FEFECE' filter='url(#f1dp5lb3s49e3f)' height='30.2969' style='stroke:#A80036;stroke-width:1.5;' width='208' x='646.5' y='718.1172'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='194' x='653.5' y='738.1123'>Flights Management system</text><path d='M235.5,100.5938 L529.5,100.5938 L529.5,107.5938 L519.5,117.5938 L235.5,117.5938 L235.5,100.5938 ' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.0;'/><rect fill='none' height='171.7969' style='stroke:#000000;stroke-width:2.0;' width='844.5' x='235.5' y='100.5938'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='249' x='250.5' y='113.6606'>Register HTTP callback at startup</text><polygon fill='#808080' points='740.5,134.8594,750.5,138.8594,740.5,138.8594' style='stroke:#808080;stroke-width:1.0;'/><line style='stroke:#808080;stroke-width:1.0;' x1='341.5' x2='751.5' y1='138.8594' y2='138.8594'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='348.5' y='133.7935'>1</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='374' x='361.5' y='133.7935'>SOAP registerForCancellationNotifications(&lt;callbackURL&gt;)</text><line style='stroke:#808080;stroke-width:1.0;' x1='752.5' x2='794.5' y1='167.9922' y2='167.9922'/><line style='stroke:#808080;stroke-width:1.0;' x1='794.5' x2='794.5' y1='167.9922' y2='180.9922'/><line style='stroke:#808080;stroke-width:1.0;' x1='753.5' x2='794.5' y1='180.9922' y2='180.9922'/><polygon fill='#808080' points='763.5,176.9922,753.5,180.9922,763.5,184.9922,759.5,180.9922' style='stroke:#808080;stroke-width:1.0;'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='759.5' y='162.9263'>2</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='145' x='772.5' y='162.9263'>Persist &lt;callbackURL&gt;</text><path d='M757,193.9922 L757,233.9922 L1066,233.9922 L1066,203.9922 L1056,193.9922 L757,193.9922 ' fill='#FBFB77' filter='url(#f1dp5lb3s49e3f)' style='stroke:#A80036;stroke-width:1.0;'/><path d='M1056,193.9922 L1056,203.9922 L1066,203.9922 L1056,193.9922 ' fill='#FBFB77' style='stroke:#A80036;stroke-width:1.0;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='288' x='763' y='211.0591'>Maintain list of all registered &lt;callbackURL&gt;s</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='222' x='763' y='226.1919'>Ignore duplicate &lt;&lt;callbackURL&gt;s</text><line style='stroke:#808080;stroke-width:1.0;' x1='341.5' x2='351.5' y1='264.3906' y2='268.3906'/><line style='stroke:#808080;stroke-width:1.0;' x1='341.5' x2='751.5' y1='264.3906' y2='264.3906'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='358.5' y='259.3247'>3</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='0' x='375.5' y='259.3247'/><path d='M235.5,286.3906 L522.5,286.3906 L522.5,293.3906 L512.5,303.3906 L235.5,303.3906 L235.5,286.3906 ' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.0;'/><rect fill='none' height='174.7969' style='stroke:#000000;stroke-width:2.0;' width='633' x='235.5' y='286.3906'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='242' x='250.5' y='299.4575'>Receive Cancellation Notification</text><polygon fill='#808080' points='352.5,335.7891,342.5,339.7891,352.5,339.7891' style='stroke:#808080;stroke-width:1.0;'/><line style='stroke:#808080;stroke-width:1.0;' x1='341.5' x2='751.5' y1='339.7891' y2='339.7891'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='358.5' y='327.1567'>4</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='189' x='371.5' y='319.5903'>HTTP POST to &lt;callbackURL&gt;</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='154' x='371.5' y='334.7231'>Cancellation Notification</text><line style='stroke:#808080;stroke-width:1.0;' x1='341.5' x2='383.5' y1='368.9219' y2='368.9219'/><line style='stroke:#808080;stroke-width:1.0;' x1='383.5' x2='383.5' y1='368.9219' y2='381.9219'/><line style='stroke:#808080;stroke-width:1.0;' x1='342.5' x2='383.5' y1='381.9219' y2='381.9219'/><polygon fill='#808080' points='352.5,377.9219,342.5,381.9219,352.5,385.9219,348.5,381.9219' style='stroke:#808080;stroke-width:1.0;'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='348.5' y='363.856'>5</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='210' x='361.5' y='363.856'>Validate Cancellation Notification</text><line style='stroke:#808080;stroke-width:1.0;' x1='341.5' x2='383.5' y1='411.0547' y2='411.0547'/><line style='stroke:#808080;stroke-width:1.0;' x1='383.5' x2='383.5' y1='411.0547' y2='424.0547'/><line style='stroke:#808080;stroke-width:1.0;' x1='342.5' x2='383.5' y1='424.0547' y2='424.0547'/><polygon fill='#808080' points='352.5,420.0547,342.5,424.0547,352.5,428.0547,348.5,424.0547' style='stroke:#808080;stroke-width:1.0;'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='348.5' y='405.9888'>6</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='356' x='361.5' y='405.9888'>Publish Cancellation Notification to persistent VM queue</text><line style='stroke:#808080;stroke-width:1.0;' x1='750.5' x2='740.5' y1='453.1875' y2='457.1875'/><line style='stroke:#808080;stroke-width:1.0;' x1='341.5' x2='751.5' y1='453.1875' y2='453.1875'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='348.5' y='448.1216'>7</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='60' x='361.5' y='448.1216'>HTTP 202</text><path d='M9,475.1875 L387,475.1875 L387,482.1875 L377,492.1875 L9,492.1875 L9,475.1875 ' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.0;'/><rect fill='none' height='226.9297' style='stroke:#000000;stroke-width:2.0;' width='748.5' x='9' y='475.1875'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='333' x='24' y='488.2544'>Transform and deliver Flight Cancelled Event</text><path d='M19,497.3203 L19,537.3203 L427,537.3203 L427,507.3203 L417,497.3203 L19,497.3203 ' fill='#FBFB77' filter='url(#f1dp5lb3s49e3f)' style='stroke:#A80036;stroke-width:1.0;'/><path d='M417,497.3203 L417,507.3203 L427,507.3203 L417,497.3203 ' fill='#FBFB77' style='stroke:#A80036;stroke-width:1.0;'/><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='115' x='115.25' y='514.3872'>In one transaction</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='203' x='115.25' y='529.52'>if supported by message broker</text><line style='stroke:#808080;stroke-width:1.0;' x1='341.5' x2='383.5' y1='567.7188' y2='567.7188'/><line style='stroke:#808080;stroke-width:1.0;' x1='383.5' x2='383.5' y1='567.7188' y2='580.7188'/><line style='stroke:#808080;stroke-width:1.0;' x1='342.5' x2='383.5' y1='580.7188' y2='580.7188'/><polygon fill='#808080' points='352.5,576.7188,342.5,580.7188,352.5,584.7188,348.5,580.7188' style='stroke:#808080;stroke-width:1.0;'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='348.5' y='562.6528'>8</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='377' x='361.5' y='562.6528'>Receive Cancellation Notification from persistent VM queue</text><line style='stroke:#808080;stroke-width:1.0;' x1='341.5' x2='383.5' y1='609.8516' y2='609.8516'/><line style='stroke:#808080;stroke-width:1.0;' x1='383.5' x2='383.5' y1='609.8516' y2='622.8516'/><line style='stroke:#808080;stroke-width:1.0;' x1='342.5' x2='383.5' y1='622.8516' y2='622.8516'/><polygon fill='#808080' points='352.5,618.8516,342.5,622.8516,352.5,626.8516,348.5,622.8516' style='stroke:#808080;stroke-width:1.0;'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='348.5' y='604.7856'>9</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='384' x='361.5' y='604.7856'>Transform Cancellation Notification to Flight Cancelled Event</text><line style='stroke:#808080;stroke-width:1.0;' x1='341.5' x2='383.5' y1='651.9844' y2='651.9844'/><line style='stroke:#808080;stroke-width:1.0;' x1='383.5' x2='383.5' y1='651.9844' y2='664.9844'/><line style='stroke:#808080;stroke-width:1.0;' x1='342.5' x2='383.5' y1='664.9844' y2='664.9844'/><polygon fill='#808080' points='352.5,660.9844,342.5,664.9844,352.5,668.9844,348.5,664.9844' style='stroke:#808080;stroke-width:1.0;'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='18' x='348.5' y='646.9185'>10</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='196' x='370.5' y='646.9185'>Validate Flight Cancelled Event</text><polygon fill='#808080' points='117.5,690.1172,107.5,694.1172,117.5,698.1172,113.5,694.1172' style='stroke:#808080;stroke-width:1.0;'/><line style='stroke:#808080;stroke-width:1.0;' x1='111.5' x2='340.5' y1='694.1172' y2='694.1172'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='18' x='123.5' y='689.0513'>11</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='189' x='145.5' y='689.0513'>Publish Flight Cancelled Event</text></g></svg>